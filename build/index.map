{"version":3,"sources":["webpack://library/webpack/universalModuleDefinition","webpack://library/webpack/bootstrap","webpack://library/./src/index.js","webpack://library/./src/resolvers/Lift.js","webpack://library/./src/resolvers/Mutation.js","webpack://library/./src/resolvers/Query.js","webpack://library/./src/resolvers/Subscription.js","webpack://library/./src/resolvers/Trail.js","webpack://library/./src/resolvers/index.js","webpack://library/external \"@babel/polyfill\"","webpack://library/external \"apollo-server\"","webpack://library/external \"dotenv\"","webpack://library/external \"fs\"","webpack://library/external \"path\""],"names":["require","config","typeDefs","readFileSync","path","join","__dirname","pubsub","PubSub","context","lifts","trails","PORT","process","env","server","ApolloServer","resolvers","listen","port","then","console","log","trailAccess","parent","args","map","id","find","t","setLiftStatus","status","updatedLift","lift","publish","liftStatusChange","setTrailStatus","updatedTrail","trail","trailStatusChange","allLifts","filter","allTrails","Lift","Trail","liftCount","length","trailCount","subscribe","data","asyncIterator","accessedByLifts","l","Query","Mutation","Subscription"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"library\"] = factory();\n\telse\n\t\troot[\"library\"] = factory();\n})(global, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import { ApolloServer, PubSub } from \"apollo-server\";\nimport { readFileSync } from \"fs\";\nimport path from \"path\";\nimport lifts from \"./data/lifts\";\nimport trails from \"./data/trails\";\nimport resolvers from \"./resolvers\";\n\nrequire(\"dotenv\").config();\n\nconst typeDefs = readFileSync(\n  path.join(__dirname, \"./typeDefs.graphql\"),\n  \"UTF-8\"\n);\n\nconst pubsub = new PubSub();\n\nconst context = { lifts, trails, pubsub };\n\nconst PORT = process.env.PORT || 4000;\n\nconst server = new ApolloServer({\n  typeDefs,\n  resolvers,\n  context\n});\n\nserver\n  .listen({ port: PORT })\n  .then(({ port }) =>\n    console.log(`GraphQL Server is running at localhost:${port}`)\n  );\n","export default {\n  trailAccess: (parent, args, { trails }) =>\n    parent.trails.map(id => trails.find(t => id === t.id))\n};\n","export default {\n  setLiftStatus: (parent, { id, status }, { lifts, pubsub }) => {\n    let updatedLift = lifts.find(lift => id === lift.id);\n    updatedLift.status = status;\n    pubsub.publish(\"lift-status-change\", { liftStatusChange: updatedLift });\n    return updatedLift;\n  },\n  setTrailStatus: (parent, { id, status }, { trails, pubsub }) => {\n    let updatedTrail = trails.find(trail => id === trail.id);\n    updatedTrail.status = status;\n    pubsub.publish(\"trail-status-change\", { trailStatusChange: updatedTrail });\n    return updatedTrail;\n  }\n};\n","export default {\n  allLifts: (parent, { status }, { lifts }) => !status ? lifts : lifts.filter(lift => lift.status === status),\n  allTrails: (parent, { status }, { trails }) =>\n    !status ? trails : trails.filter(trail => trail.status === status),\n  Lift: (parent, { id }, { lifts }) => lifts.find(lift => id === lift.id),\n  Trail: (parent, { id }, { trails }) => trails.find(trail => id === trail.id),\n  liftCount: (parent, { status }, { lifts }) =>\n    !status\n      ? lifts.length\n      : lifts.filter(lift => lift.status === status).length,\n  trailCount: (parent, { status }, { trails }) =>\n    !status\n      ? trails.length\n      : trails.filter(trail => trail.status === status).length\n};\n","export default {\n  liftStatusChange: {\n    subscribe: (parent, data, { pubsub }) =>\n      pubsub.asyncIterator(\"lift-status-change\")\n  },\n  trailStatusChange: {\n    subscribe: (parent, data, { pubsub }) =>\n      pubsub.asyncIterator(\"trail-status-change\")\n  }\n};\n","export default {\n  accessedByLifts: (parent, args, { lifts }) =>\n    parent.lift.map(id => lifts.find(l => id === l.id))\n};\n","import Query from \"./Query\";\nimport Mutation from \"./Mutation\";\nimport Subscription from \"./Subscription\";\nimport Lift from \"./Lift\";\nimport Trail from \"./Trail\";\n\nexport default {\n  Query,\n  Mutation,\n  Subscription,\n  Lift,\n  Trail\n};\n","module.exports = require(\"@babel/polyfill\");","module.exports = require(\"apollo-server\");","module.exports = require(\"dotenv\");","module.exports = require(\"fs\");","module.exports = require(\"path\");"],"sourceRoot":""}