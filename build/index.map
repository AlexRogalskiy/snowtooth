{"version":3,"sources":["webpack://library/webpack/universalModuleDefinition","webpack://library/webpack/bootstrap","webpack://library/./src/index.js","webpack://library/./src/resolvers/Lift.js","webpack://library/./src/resolvers/Mutation.js","webpack://library/./src/resolvers/Query.js","webpack://library/./src/resolvers/Subscription.js","webpack://library/./src/resolvers/Trail.js","webpack://library/./src/resolvers/index.js","webpack://library/external \"@babel/polyfill\"","webpack://library/external \"apollo-server\"","webpack://library/external \"dotenv\"","webpack://library/external \"fs\"","webpack://library/external \"path\""],"names":["require","config","typeDefs","fs","readFileSync","path","join","__dirname","resolvers","pubsub","PubSub","context","lifts","trails","PORT","process","env","server","ApolloServer","listen","port","then","console","log","module","exports","trailAccess","root","args","map","id","find","t","filter","x","filePath","fileName","save","data","writeFileSync","JSON","stringify","setLiftStatus","status","updatedLift","lift","publish","liftStatusChange","setTrailStatus","updatedTrail","trail","trailStatusChange","allLifts","filteredLifts","allTrails","filteredTrails","Lift","selectedLift","Trail","selectedTrail","liftCount","i","trailCount","subscribe","asyncIterator","accessedByLifts","l","Query","Mutation","Subscription"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"library\"] = factory();\n\telse\n\t\troot[\"library\"] = factory();\n})(global, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import { ApolloServer, PubSub } from \"apollo-server\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport lifts from \"./data/lifts\";\nimport trails from \"./data/trails\";\n\nrequire(\"dotenv\").config();\n\nconst typeDefs = fs.readFileSync(\n  path.join(__dirname, \"./typeDefs.graphql\"),\n  \"UTF-8\"\n);\nconst resolvers = require(\"./resolvers\");\n\nconst pubsub = new PubSub();\n\nconst context = { lifts, trails, pubsub };\n\nconst PORT = process.env.PORT || 4000;\n\nconst server = new ApolloServer({\n  typeDefs,\n  resolvers,\n  context\n});\n\nserver\n  .listen({ port: PORT })\n  .then(({ port }) =>\n    console.log(`GraphQL Server is running at localhost:${port}`)\n  );\n\nif (module.hot) {\n  module.hot.accept();\n  module.hot.dispose(() => console.log(\"Module removed. \"));\n}\n","module.exports = {\n    trailAccess: (root, args, { trails }) => root.trails\n        .map(id => trails.find(t => id === t.id))\n        .filter(x => x)\n}","const fs = require('fs')\nconst path = require('path')\n\nconst filePath = fileName => path.join(__dirname, '..', 'data', fileName)\n\nconst save = (data, fileName) => {\n    fs.writeFileSync(filePath(fileName), JSON.stringify(data, null, 2))\n}\n\nmodule.exports = {\n    setLiftStatus: (root, { id, status }, { lifts, pubsub }) => {\n        var updatedLift = lifts.find(lift => id === lift.id)\n        updatedLift.status = status\n        pubsub.publish('lift-status-change', { liftStatusChange: updatedLift })\n        return updatedLift\n    },\n    setTrailStatus: (root, { id, status }, { trails, pubsub }) => {\n        var updatedTrail = trails.find(trail => id === trail.id)\n        updatedTrail.status = status\n        pubsub.publish('trail-status-change', { trailStatusChange: updatedTrail })\n        return updatedTrail\n    }\n}\n","module.exports = {\n    allLifts: (root, { status }, { lifts }) => {\n        if (!status) {\n            return lifts\n        } else {\n            var filteredLifts = lifts.filter(lift => lift.status === status)\n            return filteredLifts\n        }\n    },\n    allTrails: (root, { status }, { trails }) => {\n        if (!status) {\n            return trails\n        } else {\n            var filteredTrails = trails.filter(trail => trail.status === status)\n            return filteredTrails\n        }\n    },\n    Lift: (root, { id }, { lifts }) => {\n        var selectedLift = lifts.filter(lift => id === lift.id)\n        return selectedLift[0]\n    },\n    Trail: (root, { id }, { trails }) => {\n        var selectedTrail = trails.filter(trail => id === trail.id)\n        return selectedTrail[0]\n    },\n    liftCount: (root, { status }, { lifts }) => {\n        var i = 0\n        lifts.map(lift => {\n            lift.status === status ?\n                i++ :\n                null\n        })\n        return i\n    },\n    trailCount: (root, { status }, { trails }) => {\n        var i = 0\n        trails.map(trail => {\n            trail.status === status ?\n                i++ :\n                null\n        })\n        return i\n    }\n}","module.exports = {\n    liftStatusChange: {\n        subscribe: (root, data, { pubsub }) => pubsub.asyncIterator('lift-status-change')\n    },\n    trailStatusChange: {\n        subscribe: (root, data, { pubsub }) => pubsub.asyncIterator('trail-status-change')\n    }\n}","module.exports = {\n    accessedByLifts: (root, args, {lifts}) => root.lift\n        .map(id => lifts.find(l => id === l.id))\n        .filter(x => x)\n}\n","const Query = require('./Query')\nconst Mutation = require('./Mutation')\nconst Subscription = require('./Subscription')\nconst Lift = require('./Lift')\nconst Trail = require('./Trail')\n\nmodule.exports = {\n    Query,\n    Mutation,\n    Subscription,\n    Lift,\n    Trail\n}","module.exports = require(\"@babel/polyfill\");","module.exports = require(\"apollo-server\");","module.exports = require(\"dotenv\");","module.exports = require(\"fs\");","module.exports = require(\"path\");"],"sourceRoot":""}